# SpaceShooter-Test

Исходный код тестового задания на Unity.

## Небольшое описание того как тут все работает

![](https://github.com/enjoythevibes/SpaceShooter-Test/blob/img/scheme.png?raw=true)

### Общее

Каждый игровой объект, который обладает какой-то логикой, является сущностью. Имеет основной скрипт с именем в формате ClassEntity, чтобы понимать что это сущность. В данном скрипте находятся основные данные и логика сущности. Также есть дополнительные компоненты, которые относятся к этой сущности. Их можно добавлять к объекту отдельно. Каждый компонент отвечает за свою единственную логику, необходимую для работы компонента. Взаимодействия между компонентами, или от компонента к главному скрипту сущности, происходят через интерфейсы. Это позволяет в будущем заменять текущие компоненты на другие с таким же интерфейсом, добавлять новые компоненты или даже заменить основную логику работы самой сущности. Взаимодействие между сущностями тоже происходит через интерфейсы. 

Также есть EventsManager, с помощью него можно не на прямую вызывать у другой сущности методы. Есть возможность вызывать события с параметрами. События обрабатываются в конце кадра, но также есть возможность вызывать событие мгновенно через CallEventImmediate. 

В проекте есть PoolsManager, нужен чтобы не инстансить и уничтожать объекты постоянно. Создавать и настраивать шаблоны для пула можно через asset(является ScriptableObject). Работает через все сцены, можно указать buildIndex сцены на которой будет спавниться пул, по дефолту сцена 0.

### Какие есть сущности

- Asteroid - это астероиды, которые будут врезаться в игрока и уничтожаться от снарядов
- Level - основной контроллер уровня во время игры
- LevelsGenerator - рандомно генерирует значения для уровней
- Missile - снаряд, который выпускает корабль игрока
- PlayerDataManager - загрузка, сохранение данных
- Spaceship - космический корабль, которым управляет игрок
- LivesLeftField - поле показывающее сколько осталось жизней у игрока
- GameOverScreen - экран проигрыша
- LevelVertexButton - точка-кнопка в меню на карте, которая обозначает уровень
- MapEntity - сущность карты в меню
- WinScreen - экран победы

Логику сущностей легко можно изменять, добавлять к ним новую и тд. Жесткой связи между сущностями или компонентами нет.

----

В редакторе нужно сделать aspect ratio 9:18, в game view, для корректного отображения.

В билде можно удалить файл data.enj чтобы сбросить сохранения.